@model Hirafeyat.ViewModel.NewProductViewModel

@{
	ViewData["Title"] = "Edit Product";
	Layout = "~/Views/AdminProducts/_DefaultLayout.cshtml";
}
<partial name="~/Views/Seller\_TopPartialSeller.cshtml" />

<div class="container-fluid">
	<div class="py-3 px-xl-5">
		<h2 class="mb-5 text-center text-dark font-weight-bold">Edit Product</h2>

		<form asp-action="Edit" asp-route-id="@ViewBag.ProductId" method="post" enctype="multipart/form-data" class="needs-validation" novalidate>
			<div class="form-row">
				<div class="col-md-4 mb-3">
					<label asp-for="Title" class="text-dark font-weight-bold">Title</label>
					<input asp-for="Title" class="form-control" placeholder="Enter product title" required>
					<div class="invalid-feedback">
						Please enter a product title.
					</div>
				</div>
				<div class="col-md-4 mb-3">
					<label asp-for="Price" class="text-dark font-weight-bold">Price</label>
					<input asp-for="Price" class="form-control" placeholder="Price" required>
					<div class="invalid-feedback">
						Please enter a valid price.
					</div>
				</div>
				<div class="col-md-4 mb-3">
					<label asp-for="Quentity" class="text-dark font-weight-bold">Quantity</label>
					<input asp-for="Quentity" class="form-control" placeholder="Quantity" required>
					<div class="invalid-feedback">
						Please enter quantity.
					</div>
				</div>
			</div>

			<div class="form-row">

				<div class="col-md-6 d-flex flex-column">
					<div class="mb-3">
						<label asp-for="catId" class="text-dark font-weight-bold">Category</label>
						<select asp-for="catId" asp-items="@(new SelectList((IEnumerable<Hirafeyat.Models.Category>)ViewData["catList"], "Id", "Name"))" class="form-control" required>
							<option value="">-- Select Category --</option>
						</select>
						<div class="invalid-feedback">Please choose a category.</div>
					</div>

					<div>
						<label asp-for="Description" class="text-dark font-weight-bold">Description</label>
						<textarea asp-for="Description" class="form-control" rows="4" style="resize: vertical;" required></textarea>
						<div class="invalid-feedback">Please enter a description.</div>
					</div>
				</div>



				<div class="col-md-6 d-flex flex-column justify-content-between mb-3">
					<div>
						<label asp-for="Image" class="text-dark font-weight-bold">New Image(Optional)</label>
						<input asp-for="Image" type="file" class="form-control mt-1">
						<div class="invalid-feedback">Please upload a valid image.</div>
					</div>
					<div class="mt-3">
						<label class="d-block text-dark font-weight-bold">Old Image</label>
						<img src="@Model.ImageUrl" alt="Current Image" class="img-thumbnail" style="width:100%; max-width:150px; height:150px; object-fit:cover; border:2px solid #ccc;" />
					</div>
				</div>
			</div>

			<input type="hidden" asp-for="sellerId" />
			<div class="text-center mt-4">
				<div class="d-flex justify-content-end gap-3">
					<button type="submit" class="btn btn-primary px-4">Save Changes</button>
					<a asp-action="Index" class="btn btn-outline-primary px-4 ml-1">← Back to List</a>
				</div>
			</div>

		</form>
	</div>
</div>
<!-- ✅ Form Validation Script -->

<script>
	(function () {
		'use strict';
		window.addEventListener('load', function () {
			var forms = document.getElementsByClassName('needs-validation');
			Array.prototype.forEach.call(forms, function (form) {
				form.addEventListener('submit', function (event) {
					if (form.checkValidity() === false) {
						event.preventDefault();
						event.stopPropagation();
					}
					form.classList.add('was-validated');
				}, false);
			});
		}, false);
	})();
</script>









